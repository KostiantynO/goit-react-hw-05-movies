{"version":3,"file":"static/js/409.e2a5dd9b.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","pages/MovieDetailsPage/MovieDetailsPage.js","pages/MovieDetailsPage/MovieDetailsPage.styled.js"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import { useEffect, useRef, useState } from 'react';\n// prettier-ignore\nimport { NavLink, Outlet, useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { fetchMovieDetails } from 'apis/tmdb-api';\nimport { toast } from 'react-toastify';\nimport { makeUrl, Status } from 'utils';\nimport { Container, Section, ScoreIcon, ScrollButtons } from 'components';\n// prettier-ignore\nimport { MovieDetailsPageStyled, ArrowLeft, MovieImage, PlaceholderSvg, TitleWrapper, GoBack } from './MovieDetailsPage.styled';\n\nconst { IDLE, PENDING, RESOLVED, REJECTED } = Status;\n\nconst INITIAL_STATE = Object.freeze({\n  poster_path: '',\n  backdrop_path: '',\n  original_title: '',\n  title: '',\n  genres: [],\n  vote_average: 0,\n  overview: '',\n  release_date: '',\n});\n\nexport const MovieDetailsPage = () => {\n  const [movieDetails, setMovieDetails] = useState({ ...INITIAL_STATE });\n  const [status, setStatus] = useState(IDLE);\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    const getDetails = async () => {\n      try {\n        setStatus(PENDING);\n        const newMovieDetails = await fetchMovieDetails(movieId);\n        setMovieDetails(newMovieDetails);\n        setStatus(RESOLVED);\n      } catch (error) {\n        toast('There is no details for the movie');\n        setStatus(REJECTED);\n      }\n    };\n\n    getDetails();\n  }, [movieId]);\n\n  const {\n    poster_path,\n    backdrop_path,\n    original_title,\n    title,\n    genres,\n    vote_average,\n    overview,\n    release_date,\n  } = movieDetails;\n\n  // const hasMovieDetails = movieDetails && Object.keys(movieDetails)?.length > 0;\n\n  const genresNames =\n    genres?.length > 0 ? genres.map(({ name }) => name).join(', ') : '';\n  const releaseDate = `(${release_date?.slice(0, 4)})`;\n\n  const error = status === REJECTED;\n\n  const oldLocation = useRef(location);\n  const nav = useNavigate();\n\n  const goBack = () => {\n    nav(oldLocation?.current?.state?.from ?? '/');\n  };\n\n  return (\n    <MovieDetailsPageStyled>\n      <Section bg={makeUrl(backdrop_path, 'bg', 'lg')}>\n        <Container>\n          <GoBack type=\"button\" onClick={goBack}>\n            <ArrowLeft />\n            <span>Go back</span>\n          </GoBack>\n\n          {!error && (\n            <>\n              <div className=\"FlexContainer\">\n                {poster_path ? (\n                  <MovieImage\n                    src={makeUrl(poster_path, 'poster', 'lg')}\n                    alt={title || original_title || 'poster image'}\n                  />\n                ) : (\n                  <PlaceholderSvg />\n                )}\n\n                <div className=\"FlexContainerColumn\">\n                  <TitleWrapper>\n                    {vote_average && (\n                      <ScoreIcon score={vote_average} size={40} />\n                    )}\n                    <h1>{title || original_title || 'Title'}</h1>\n                    <span>{releaseDate}</span>\n                  </TitleWrapper>\n\n                  <div>\n                    <h2>Overview</h2>\n                    <p>{overview}</p>\n                  </div>\n\n                  <div>\n                    <h3>Genres</h3>\n                    <p>{genresNames}</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"AdditionalInfo\">\n                <h3>Additional information</h3>\n\n                <ul>\n                  <li>\n                    <NavLink to=\"cast\">Cast</NavLink>\n                  </li>\n\n                  <li>\n                    <NavLink to=\"reviews\">Review</NavLink>\n                  </li>\n                </ul>\n              </div>\n            </>\n          )}\n        </Container>\n\n        <Outlet />\n      </Section>\n\n      <ScrollButtons />\n    </MovieDetailsPageStyled>\n  );\n};\n","import styled from 'styled-components';\nimport { PlaceholderIcon } from 'images';\nimport { GoChevronLeft } from 'react-icons/go';\n\nexport const MovieDetailsPageStyled = styled.div`\n  position: relative;\n\n  .FlexContainer {\n    display: flex;\n    margin-bottom: 20px;\n\n    @media screen and (max-width: 767px) {\n      flex-wrap: wrap;\n      gap: 20px;\n    }\n\n    @media screen and (min-width: 768px) {\n      gap: 32px;\n    }\n  }\n\n  color: white;\n\n  .FlexContainerColumn {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n\n    @media screen and (min-width: 768px) {\n      gap: 32px;\n    }\n  }\n\n  .AdditionalInfo {\n    display: flex;\n    gap: 20px;\n    padding: 12px;\n\n    color: #eee;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.5), transparent);\n    border-radius: 8px 16px 16px 8px;\n\n    ul {\n      display: flex;\n      gap: 12px;\n    }\n  }\n`;\n\nexport const TitleWrapper = styled.div`\n  display: flex;\n  gap: 12px;\n  align-items: center;\n`;\n\nexport const PlaceholderSvg = styled(PlaceholderIcon)`\n  width: 121px;\n  height: 121px;\n  fill: white;\n`;\n\nexport const MovieImage = styled.img`\n  margin: 0 auto;\n  border-radius: 12px;\n`;\n\nexport const ArrowLeft = styled(GoChevronLeft)`\n  width: 20px;\n  height: 20px;\n`;\n\nexport const GoBack = styled.button`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 16px 8px 8px;\n  margin-bottom: 20px;\n  border-radius: 8px;\n  box-shadow: 2px 3px 4px 1px rgba(33, 33, 33, 0.21);\n`;\n"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","IDLE","Status","PENDING","RESOLVED","REJECTED","INITIAL_STATE","freeze","poster_path","backdrop_path","original_title","title","genres","vote_average","overview","release_date","MovieDetailsPage","useState","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","movieDetails","setMovieDetails","status","setStatus","movieId","useParams","location","useLocation","useEffect","getDetails","fetchMovieDetails","newMovieDetails","toast","genresNames","map","name","join","releaseDate","slice","error","oldLocation","useRef","nav","useNavigate","MovieDetailsPageStyled","Section","bg","makeUrl","Container","GoBack","type","onClick","current","state","from","ArrowLeft","className","MovieImage","src","alt","PlaceholderSvg","TitleWrapper","ScoreIcon","score","size","to","ScrollButtons","styled","PlaceholderIcon","GoChevronLeft"],"sourceRoot":""}