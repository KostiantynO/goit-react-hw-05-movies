"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[386,25],{2386:function(n,e,t){t.r(e),t.d(e,{MoviesPage:function(){return m}});var r=t(5861),s=t(885),i=t(7757),u=t.n(i),a=t(2791),o=t(6871),c=t(501),l=t(577),f=t(3215),v=t(4895),d=t(9930),h=t(5025),p=t(184),x=v.qb.IDLE,b=v.qb.PENDING,k=v.qb.RESOLVED,g=v.qb.REJECTED,m=function(){var n,e,t,i=(0,a.useState)(null),v=(0,s.Z)(i,2),m=v[0],E=v[1],j=(0,a.useState)(x),S=(0,s.Z)(j,2),Z=S[0],_=S[1],w=(0,a.useState)(null),q=(0,s.Z)(w,2),L=q[0],y=q[1],C=(0,a.useState)(1),D=(0,s.Z)(C,1)[0],G=(0,o.TH)(),P=(0,c.lr)(),I=(0,s.Z)(P,1)[0].get("query");(0,a.useEffect)((function(){if(I){var n=function(){var n=(0,r.Z)(u().mark((function n(){var e,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return _(b),n.prev=1,n.next=4,(0,f.bI)(I,D);case 4:null!==(t=n.sent)&&void 0!==t&&null!==(e=t.results)&&void 0!==e&&e.length||(0,l.Am)("No results for ".concat(I)),E(t),_(k),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),(0,l.Am)("Error while fetching ".concat(I,". Please try another search")),y(n.t0),_(g);case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}();n()}}),[D,I]),(0,a.useEffect)((function(){return function(){y(null)}}),[]);var N=(null===m||void 0===m||null===(n=m.results)||void 0===n?void 0:n.length)>0,A=null!==(e=null===G||void 0===G||null===(t=G.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";return(0,p.jsxs)("div",{children:[(0,p.jsxs)(d.Container,{children:[(0,p.jsx)(d.Searchbar,{status:Z}),(0,p.jsx)(h.GoBackLink,{to:A,children:"\u21d0 Go back"}),!L&&(0,p.jsx)(d.Section,{children:N&&(0,p.jsx)(d.MoviesList,{items:m.results})})]}),(0,p.jsx)(a.Suspense,{fallback:"",children:(0,p.jsx)(o.j3,{})})]})}},5025:function(n,e,t){t.r(e),t.d(e,{GoBackLink:function(){return u}});var r,s=t(168),i=t(501),u=(0,t(5751).ZP)(i.rU)(r||(r=(0,s.Z)(["\n  display: inline-flex;\n  padding: 12px 12px;\n  margin-top: 12px;\n  margin-bottom: 12px;\n"])))}}]);
//# sourceMappingURL=386.28ab0c6e.chunk.js.map